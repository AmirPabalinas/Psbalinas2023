<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GWA Calculator</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        input { width: 100%; box-sizing: border-box; }
        button { padding: 10px 20px; margin: 5px; }
        #result { font-weight: bold; margin-top: 20px; }
    </style>
</head>
<body>
    <h1>GWA Calculator</h1>
    <p>Enter your subjects, grades (e.g., 1.0 to 5.0), and units. Click "Add Subject" to add more, then "Calculate GWA".</p>
    
    <table id="subjectsTable">
        <thead>
            <tr>
                <th>Subject</th>
                <th>Grade</th>
                <th>Units</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="subjectsBody">
            <!-- Rows will be added here -->
        </tbody>
    </table>
    
    <button onclick="addSubject()">Add Subject</button>
    <button onclick="calculateGWA()">Calculate GWA</button>
    <button onclick="clearAll()">Clear All</button>
    
    <div id="result"></div>
    
    <script>
        function addSubject() {
            const tbody = document.getElementById('subjectsBody');
            const row = tbody.insertRow();
            
            const subjectCell = row.insertCell(0);
            const gradeCell = row.insertCell(1);
            const unitsCell = row.insertCell(2);
            const actionCell = row.insertCell(3);
            
            subjectCell.innerHTML = '<input type="text" placeholder="Subject Name">';
            gradeCell.innerHTML = '<input type="number" step="0.01" placeholder="Grade">';
            unitsCell.innerHTML = '<input type="number" step="1" placeholder="Units">';
            actionCell.innerHTML = '<button onclick="removeRow(this)">Remove</button>';
        }
        
        function removeRow(button) {
            const row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);
        }
        
        function calculateGWA() {
            const rows = document.querySelectorAll('#subjectsBody tr');
            let totalWeightedGrade = 0;
            let totalUnits = 0;
            
            for (let row of rows) {
                const grade = parseFloat(row.cells[1].querySelector('input').value);
                const units = parseFloat(row.cells[2].querySelector('input').value);
                
                if (!isNaN(grade) && !isNaN(units) && units > 0) {
                    totalWeightedGrade += grade * units;
                    totalUnits += units;
                }
            }
            
            if (totalUnits > 0) {
                const gwa = (totalWeightedGrade / totalUnits).toFixed(2);
                document.getElementById('result').innerText = `Your GWA is: ${gwa}`;
            } else {
                document.getElementById('result').innerText = 'Please enter valid grades and units.';
            }
        }
        
        function clearAll() {
            document.getElementById('subjectsBody').innerHTML = '';
            document.getElementById('result').innerText = '';
        }
        
        // Add one initial row
        addSubject();
    </script>
</body>
</html>
